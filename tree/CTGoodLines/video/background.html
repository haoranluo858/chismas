<!--
* @Author: Tina Huang
* @Date: 2022-12-09 21:29:19
* @LastEditors: Tina Huang
* @LastEditTime: 2022-12-10 15:36:47
* @Description: 
-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Merry Christmas</title>
		<style>
			body {
				background-color: #000;
				overflow: hidden;
				display: flex;
				align-items: center;
				justify-content: space-around;
			}

			body,
			html {
				height: 100%;
				width: 100%;
				margin: 0;
				padding: 0;
			}

			svg {
				width: 90%;
				height: 90%;
				visibility: hidden;
			}

			.sparkle {
				/* mix-blend-mode:luminosity */
			}

			body {
				margin: 0;
				text-align: center;
				padding: 0;
				line-height: 2em;
				font-family: "Times New Roman", Times, serif;
				color: #000000;
			}

			#header {
				/* position: absolute; */
				text-align: center;
				color: #C89568;
				font-family: Times New Roman;
				font-size: 35px;
				min-width: 400px;
				max-height: 100vh;
			}

			.header-item {
				opacity: 0;
				transition: all .5s ease-in-out;
				line-height: 1.5;
				margin: 0;
			}

			.header-item.show {
				opacity: 1;
			}

			#treeStarOutline {
				opacity: 0;
			}

			#mask {
				position: absolute;
				background-color: #000;
				width: 100%;
				height: 100%;
				font-size: 15rem;
				animation: shack 0.4s ease-in-out infinite;
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				display: none;
			}

			@keyframes shack {
				0% {
					transform: rotate(0);
				}

				25% {
					transform: rotate(-10deg);
				}

				50% {
					transform: rotate(0);
				}

				75% {
					transform: rotate(10deg);
				}

				100% {
					transform: rotate(0);
				}
			}

			#stars {
				position: absolute;
				width: 100%;
				height: 100%;
				z-index: -1;
			}

			#background-video {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: auto;
    z-index: -2;
    transition: all 5s ease;
    will-change: transform, width, height, top, left; /* æå‰å‘ŠçŸ¥æµè§ˆå™¨åŠ¨ç”»å˜åŒ– */
}

        .video-small {
            width: 25% !important; /* ç¡®ä¿ç¼©å° */
            height: auto !important;
            top: 10% !important;
            left: 50% !important;
            transform: translateX(-50%) !important; /* ç¡®ä¿ç¼©å°åä»ç„¶å±…ä¸­ */
        }
    </style>
</head>
<body>
    <div id="mask">ğŸ„</div>
    <canvas id="stars"></canvas>
    <div class="main">
        <h1 id="header"></h1>
    </div>
    <video id="background-video" autoplay muted>
        <source src="C:\Users\dongf\Desktop\tree\CTGoodLines\video\chrismas.mp4" type="video/mp4">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘ã€‚
    </video>

    <script>
        // ç›‘å¬è§†é¢‘æ’­æ”¾ç»“æŸäº‹ä»¶
        const videoElement = document.getElementById("background-video");

        videoElement.onended = function () {
            // æ·»åŠ åŠ¨ç”»ç±»ï¼Œç¼©å°è§†é¢‘å¹¶å°†å…¶ç§»åŠ¨åˆ°ä¸­ä¸Šæ–¹
            videoElement.classList.add("video-small");
        };
		</script>
		<!-- partial -->
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\FlexiAnimate.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\MorphSVGPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\DrawSVGPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\MotionPathPlugin"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\Physics2DPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\EasePack.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\one.js"></script>
	</body>
	<!-- <script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\one.js"></script> -->
	 <script>
		function loadAudio(i) {
  document.getElementById("overlay").innerHTML =
    '<div class="text-loading">åˆ«ç€æ€¥ï¼Œæ­£åœ¨æ‰“å¼€...</div>';
  const file = musicList[i].url;

  const loader = new THREE.AudioLoader();
  loader.load(file, function (buffer) {
    audio.setBuffer(buffer);
    audio.play();
    analyser = new THREE.AudioAnalyser(audio, fftSize);
    init();
  });
}

function uploadAudio(event) {
  document.getElementById("overlay").innerHTML =
    '<div class="text-loading">åˆ«ç€æ€¥ï¼Œæ­£åœ¨æ‰“å¼€</div>';
  const files = event.target.files;
  const reader = new FileReader();

  reader.onload = function (file) {
    var arrayBuffer = file.target.result;

    listener.context.decodeAudioData(arrayBuffer, function (audioBuffer) {
      audio.setBuffer(audioBuffer);
      audio.play();
      analyser = new THREE.AudioAnalyser(audio, fftSize);
      init();
    });
  };

  reader.readAsArrayBuffer(files[0]);
}

	 </script>
</html>