<!--
* @Author: Tina Huang
* @Date: 2022-12-09 21:29:19
* @LastEditors: Tina Huang
* @LastEditTime: 2022-12-10 15:36:47
* @Description: 
-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Merry Christmas</title>
		<style>
			body {
				background-color: #000;
				overflow: hidden;
				display: flex;
				align-items: center;
				justify-content: space-around;
			}

			body,
			html {
				height: 100%;
				width: 100%;
				margin: 0;
				padding: 0;
			}

			svg {
				width: 90%;
				height: 90%;
				visibility: hidden;
			}

			.sparkle {
				/* mix-blend-mode:luminosity */
			}

			body {
				margin: 0;
				text-align: center;
				padding: 0;
				line-height: 2em;
				font-family: "Times New Roman", Times, serif;
				color: #000000;
			}

			#header {
				/* position: absolute; */
				text-align: center;
				color: #C89568;
				font-family: Times New Roman;
				font-size: 35px;
				min-width: 400px;
				max-height: 100vh;
			}

			.header-item {
				opacity: 0;
				transition: all .5s ease-in-out;
				line-height: 1.5;
				margin: 0;
			}

			.header-item.show {
				opacity: 1;
			}

			#treeStarOutline {
				opacity: 0;
			}

			#mask {
				position: absolute;
				background-color: #000;
				width: 100%;
				height: 100%;
				font-size: 15rem;
				animation: shack 0.4s ease-in-out infinite;
				display: flex;
				align-items: center;
				justify-content: center;
				cursor: pointer;
				display: none;
			}

			@keyframes shack {
				0% {
					transform: rotate(0);
				}

				25% {
					transform: rotate(-10deg);
				}

				50% {
					transform: rotate(0);
				}

				75% {
					transform: rotate(10deg);
				}

				100% {
					transform: rotate(0);
				}
			}

			#stars {
				position: absolute;
				width: 100%;
				height: 100%;
				z-index: -1;
			}

            #background-video {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                height: auto;
                z-index: -2; /* ç¡®ä¿è§†é¢‘åœ¨åŠ¨ç”»çš„åº•éƒ¨ */
            }
		</style>
	</head>
	<body>
		<div id="mask">ğŸ„</div>
		<canvas id="stars"></canvas>
		<div class="main">
			<!-- partial:index.partial.html -->
			<!-- Removed SVG and related elements -->
			<h1 id="header"></h1>
		</div>
        <video id="background-video" autoplay  muted>
            <source src="C:\Users\dongf\Desktop\tree\CTGoodLines\video\chrismas.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘ã€‚
        </video>
		</audio>
		<!-- partial -->
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\FlexiAnimate.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\MorphSVGPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\DrawSVGPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\MotionPathPlugin"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\Physics2DPlugin.js"></script>
		<script src="C:\Users\dongf\Desktop\tree\CTGoodLines\js\EasePack.js"></script>
	</body>
	<script>
		function snow() {
			//  1ã€å®šä¹‰ä¸€ç‰‡é›ªèŠ±æ¨¡æ¿
			var flake = document.createElement("div");
			// é›ªèŠ±å­—ç¬¦ â„â‰â…â†âœ»âœ¼â‡âˆâŠâœ¥âœº
			flake.innerHTML = "â†";
			flake.style.cssText = "position:absolute;color:#fff;";
			//è·å–é¡µé¢çš„é«˜åº¦ ç›¸å½“äºé›ªèŠ±ä¸‹è½ç»“æŸæ—¶Yè½´çš„ä½ç½®
			var documentHieght = window.innerHeight;
			//è·å–é¡µé¢çš„å®½åº¦ï¼Œåˆ©ç”¨è¿™ä¸ªæ•°æ¥ç®—å‡ºï¼Œé›ªèŠ±å¼€å§‹æ—¶leftçš„å€¼
			var documentWidth = window.innerWidth;
			//å®šä¹‰ç”Ÿæˆä¸€ç‰‡é›ªèŠ±çš„æ¯«ç§’æ•°
			var millisec = 100;
			//2ã€è®¾ç½®ç¬¬ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå‘¨æœŸæ€§å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆmillisecï¼‰ç”Ÿæˆä¸€ç‰‡é›ªèŠ±ï¼›
			setInterval(function() {
				//é¡µé¢åŠ è½½ä¹‹åï¼Œå®šæ—¶å™¨å°±å¼€å§‹å·¥ä½œ
				//éšæœºç”Ÿæˆé›ªèŠ±ä¸‹è½ å¼€å§‹ æ—¶leftçš„å€¼ï¼Œç›¸å½“äºå¼€å§‹æ—¶Xè½´çš„ä½ç½®
				var startLeft = Math.random() * documentWidth;
				//éšæœºç”Ÿæˆé›ªèŠ±ä¸‹è½ ç»“æŸ æ—¶leftçš„å€¼ï¼Œç›¸å½“äºç»“æŸæ—¶Xè½´çš„ä½ç½®
				var endLeft = Math.random() * documentWidth;
				//éšæœºç”Ÿæˆé›ªèŠ±å¤§å°
				var flakeSize = 5 + 20 * Math.random();
				//éšæœºç”Ÿæˆé›ªèŠ±ä¸‹è½æŒç»­æ—¶é—´
				var durationTime = 4000 + 7000 * Math.random();
				//éšæœºç”Ÿæˆé›ªèŠ±ä¸‹è½ å¼€å§‹ æ—¶çš„é€æ˜åº¦
				var startOpacity = 0.7 + 0.3 * Math.random();
				//éšæœºç”Ÿæˆé›ªèŠ±ä¸‹è½ ç»“æŸ æ—¶çš„é€æ˜åº¦
				var endOpacity = 0.2 + 0.2 * Math.random();
				//å…‹éš†ä¸€ä¸ªé›ªèŠ±æ¨¡æ¿
				var cloneFlake = flake.cloneNode(true);
				//ç¬¬ä¸€æ¬¡ä¿®æ”¹æ ·å¼ï¼Œå®šä¹‰å…‹éš†å‡ºæ¥çš„é›ªèŠ±çš„æ ·å¼
				cloneFlake.style.cssText += `
                   left: ${startLeft}px;
                   opacity: ${startOpacity};
                   font-size:${flakeSize}px;
                   top:-25px;
                       transition:${durationTime}ms;
               `;
				//æ‹¼æ¥åˆ°é¡µé¢ä¸­
				document.body.appendChild(cloneFlake);
				//è®¾ç½®ç¬¬äºŒä¸ªå®šæ—¶å™¨ï¼Œä¸€æ¬¡æ€§å®šæ—¶å™¨ï¼Œ
				//å½“ç¬¬ä¸€ä¸ªå®šæ—¶å™¨ç”Ÿæˆé›ªèŠ±ï¼Œå¹¶åœ¨é¡µé¢ä¸Šæ¸²æŸ“å‡ºæ¥åï¼Œä¿®æ”¹é›ªèŠ±çš„æ ·å¼ï¼Œè®©é›ªèŠ±åŠ¨èµ·æ¥ï¼›
				setTimeout(function() {
					//ç¬¬äºŒæ¬¡ä¿®æ”¹æ ·å¼
					cloneFlake.style.cssText += `
                           left: ${endLeft}px;
                           top:${documentHieght}px;
                           opacity:${endOpacity};
                       `;
					//4ã€è®¾ç½®ç¬¬ä¸‰ä¸ªå®šæ—¶å™¨ï¼Œå½“é›ªèŠ±è½ä¸‹åï¼Œåˆ é™¤é›ªèŠ±ã€‚
					setTimeout(function() {
						cloneFlake.remove();
					}, durationTime);
				}, 0);
			}, millisec);
		}
		snow();
		// Removed SVG related JavaScript code
		function drawStars() {
			let canvas = document.getElementById("stars"),
				ctx = canvas.getContext("2d"),
				w = (canvas.width = window.innerWidth),
				h = (canvas.height = window.innerHeight),
				hue = 37, //è‰²è°ƒè‰²å½©
				stars = [], //ä¿å­˜æ‰€æœ‰æ˜Ÿæ˜Ÿ
				count = 0, //ç”¨äºè®¡ç®—æ˜Ÿæ˜Ÿ
				maxStars = 1300; //æ˜Ÿæ˜Ÿæ•°é‡
			//canvas2æ˜¯ç”¨æ¥åˆ›å»ºæ˜Ÿæ˜Ÿçš„æºå›¾åƒï¼Œå³æ¯ç‰ˆï¼Œ
			//æ ¹æ®æ˜Ÿæ˜Ÿè‡ªèº«å±æ€§çš„å¤§å°æ¥è®¾ç½®
			var canvas2 = document.createElement("canvas"),
				ctx2 = canvas2.getContext("2d");
			canvas2.width = 100;
			canvas2.height = 100;
			//åˆ›å»ºå¾„å‘æ¸å˜ï¼Œä»åæ ‡(halfï¼Œhalf)åŠå¾„ä¸º0çš„åœ†å¼€å§‹ï¼Œ
			//åˆ°åæ ‡ä¸º(half,half)åŠå¾„ä¸ºhalfçš„åœ†ç»“æŸ
			var half = canvas2.width / 2,
				gradient2 = ctx2.createRadialGradient(half, half, 0, half, half, half);
			gradient2.addColorStop(0.025, "#3387bb");
			//hslæ˜¯å¦ä¸€ç§é¢œè‰²çš„è¡¨ç¤ºæ–¹å¼ï¼Œ
			//h->hue,ä»£è¡¨è‰²è°ƒè‰²å½©ï¼Œ0ä¸ºredï¼Œ120ä¸ºgreenï¼Œ240ä¸ºblue
			//s->saturationï¼Œä»£è¡¨é¥±å’Œåº¦ï¼Œ0%-100%
			//l->lightnessï¼Œä»£è¡¨äº®åº¦ï¼Œ0%ä¸ºblackï¼Œ100%ä½white
            gradient2.addColorStop(0.3, "rgba(51, 135, 187, 0.2)"); // è¿‡æ¸¡åˆ°é€æ˜
            gradient2.addColorStop(0.5, "rgba(51, 135, 187, 0)"); // å®Œå…¨é€æ˜
			gradient2.addColorStop(1, "transparent");
			ctx2.fillStyle = gradient2;
			ctx2.beginPath();
			ctx2.arc(half, half, half, 0, Math.PI * 2);
			ctx2.fill();
			// End cache
			function random(min, max) {
				if (arguments.length < 2) {
					max = min;
					min = 0;
				}
				if (min > max) {
					var hold = max;
					max = min;
					min = hold;
				}
				//è¿”å›minå’Œmaxä¹‹é—´çš„ä¸€ä¸ªéšæœºå€¼
				return Math.floor(Math.random() * (max - min + 1)) + min;
			}

			function maxOrbit(x, y) {
				var max = Math.max(x, y),
					diameter = Math.round(Math.sqrt(max * max + max * max));
				//æ˜Ÿæ˜Ÿç§»åŠ¨èŒƒå›´ï¼Œå€¼è¶Šå¤§èŒƒå›´è¶Šå°ï¼Œ
				return diameter / 2;
			}
			var Star = function() {
				//æ˜Ÿæ˜Ÿç§»åŠ¨çš„åŠå¾„
				this.orbitRadius = random(maxOrbit(w, h));
				//æ˜Ÿæ˜Ÿå¤§å°ï¼ŒåŠå¾„è¶Šå°ï¼Œæ˜Ÿæ˜Ÿä¹Ÿè¶Šå°ï¼Œå³å¤–é¢çš„æ˜Ÿæ˜Ÿä¼šæ¯”è¾ƒå¤§
				this.radius = random(60, this.orbitRadius) / 8;
				//æ‰€æœ‰æ˜Ÿæ˜Ÿéƒ½æ˜¯ä»¥å±å¹•çš„ä¸­å¿ƒä¸ºåœ†å¿ƒ
				this.orbitX = w / 2;
				this.orbitY = h / 2;
				//æ˜Ÿæ˜Ÿåœ¨æ—‹è½¬åœ†åœˆä½ç½®çš„è§’åº¦,æ¯æ¬¡å¢åŠ speedå€¼çš„è§’åº¦
				//åˆ©ç”¨æ­£å¼¦ä½™å¼¦ç®—å‡ºçœŸæ­£çš„xã€yä½ç½®
				this.timePassed = random(0, maxStars);
				//æ˜Ÿæ˜Ÿç§»åŠ¨é€Ÿåº¦
				this.speed = random(this.orbitRadius) / 50000;
				//æ˜Ÿæ˜Ÿå›¾åƒçš„é€æ˜åº¦
				this.alpha = random(2, 10) / 10;
				count++;
				stars[count] = this;
			};
			Star.prototype.draw = function() {
				//æ˜Ÿæ˜Ÿå›´ç»•åœ¨ä»¥å±å¹•ä¸­å¿ƒä¸ºåœ†å¿ƒï¼ŒåŠå¾„ä¸ºorbitRadiusçš„åœ†æ—‹è½¬
				var x = Math.sin(this.timePassed) * this.orbitRadius + this.orbitX,
					y = Math.cos(this.timePassed) * this.orbitRadius + this.orbitY,
					twinkle = random(10);
				//æ˜Ÿæ˜Ÿæ¯æ¬¡ç§»åŠ¨ä¼šæœ‰1/10çš„å‡ ç‡å˜äº®æˆ–è€…å˜æš—
				if (twinkle === 1 && this.alpha > 0) {
					//é€æ˜åº¦é™ä½ï¼Œå˜æš—
					this.alpha -= 0.05;
				} else if (twinkle === 2 && this.alpha < 1) {
					//é€æ˜åº¦å‡é«˜ï¼Œå˜äº®
					this.alpha += 0.05;
				}
				ctx.globalAlpha = this.alpha;
				//ä½¿ç”¨canvas2ä½œä¸ºæºå›¾åƒæ¥åˆ›å»ºæ˜Ÿæ˜Ÿï¼Œ
				//ä½ç½®åœ¨x - this.radius / 2, y - this.radius / 2
				//å¤§å°ä¸º this.radius
				ctx.drawImage(
					canvas2,
					x - this.radius / 2,
					y - this.radius / 2,
					this.radius,
					this.radius
				);
				//æ²¡æ—‹è½¬ä¸€æ¬¡ï¼Œè§’åº¦å°±ä¼šå¢åŠ 
				this.timePassed += this.speed;
			};
			//åˆå§‹åŒ–æ‰€æœ‰æ˜Ÿæ˜Ÿ
			for (var i = 0; i < maxStars; i++) {
				new Star();
			}

			function animation() {
           // æ¸…é™¤ç”»å¸ƒ
           ctx.clearRect(0, 0, w, h);
           // æºå›¾åƒå’Œç›®æ ‡å›¾åƒåŒæ—¶æ˜¾ç¤ºï¼Œé‡å éƒ¨åˆ†å åŠ é¢œè‰²æ•ˆæœ
           ctx.globalCompositeOperation = "lighter";
           for (var i = 1, l = stars.length; i < l; i++) {
               stars[i].draw();
           }
           // è°ƒç”¨è¯¥æ–¹æ³•æ‰§è¡ŒåŠ¨ç”»ï¼Œå¹¶ä¸”åœ¨é‡ç»˜çš„æ—¶å€™è°ƒç”¨æŒ‡å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»
           window.requestAnimationFrame(animation);
			}
			animation();
		}
		let myLabels = [
			"äº²çˆ±çš„",
			"Merry Christmas",
			"å¥å¥åº·åº·ï¼Œå¹³å®‰å–œä¹",
			"ä¸€å®šè¦ç«™åœ¨ä½ æ‰€çƒ­çˆ±çš„ä¸–ç•Œé‡Œé—ªé—ªå‘å…‰",
		];

		function init() {
			let element = document.getElementById("header");
			for (let i = 0; i < myLabels.length; i++) {
				let _p = document.createElement("p");
				_p.className = "header-item";
				_p.innerHTML = myLabels[i];
				element.appendChild(_p);
			}
			let labels = document.getElementsByClassName('header-item');
			for (let i = 0; i < myLabels.length; i++) {
				setTimeout(() => {
					labels[i].classList.add("show");
				}, 1000 * i);
			}
		}
		init();
		drawStars();
	</script>
</html>